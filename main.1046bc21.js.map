{"version":3,"sources":["scripts/main.js"],"names":["detector","body","document","tableHeader","querySelector","tableBody","tableBodyElements","getElementsByTagName","tableHeaderElements","querySelectorAll","handler","index","arr","sortedArr","sort","rowA","rowB","cellA","cells","innerText","cellB","includes","newCellA","slice","replace","innerHTML","row","append","newCellB","forEach","element","addEventListener","e","classList","remove","target","closest","add","form","createElement","insertAdjacentHTML","selector","dataset","qa","cities","city","item","disabled","selected","prepend","button","setAttribute","appropriateNotification","title","description","type","notification","h2","p","setTimeout","evt","newEmployee","count","preventDefault","elements","value","length","table","tagName","cell","InitialValue","input","editor","ev","code","checkAge","cellIndex","isFinite","checkSalary","toLocaleString"],"mappings":";AAAA,aAsPA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EApPA,IAUIA,EAVEC,EAAOC,SAASD,KAEhBE,EAAcD,SAASE,cAAc,SAErCC,EAAYH,SAASE,cAAc,SAEnCE,EAAoBD,EAAUE,qBAAqB,MAEnDC,EAAsBL,EAAYM,iBAAiB,MAInDC,EAAU,SAASC,GACnBX,GAAAA,IAAaW,EAAO,CACtBX,EAAWW,EAELC,IAEAC,EAFUP,EAAAA,GAEMQ,KAAK,SAACC,EAAMC,GAC1BC,IAAAA,EAAQF,EAAKG,MAAMP,GAAOQ,UAC1BC,EAAQJ,EAAKE,MAAMP,GAAOQ,UAE5BF,GAAAA,EAAMI,SAAS,KAIVC,OAHUL,EAAMM,MAAM,GAAGC,QAAQ,KAAM,KAC7BJ,EAAMG,MAAM,GAAGC,QAAQ,KAAM,KAKxC,QAAA,GACDP,KAAAA,EAAQG,EACJ,OAAA,EAEJH,KAAAA,EAAQG,EACJ,OAAC,EAEV,QACS,OAAA,KAIbf,EAAUoB,UAAY,GAEJZ,IA9BI,EA8BJA,EAAAA,EAAAA,GA9BI,IA8BO,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAlBa,IAAAA,EAAkB,EAAA,MAC3BrB,EAAUsB,OAAOD,IA/BG,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,SAiCjB,CACL1B,EAAW,KAELY,IAEAC,EAFUP,EAAAA,GAEMQ,KAAK,SAACC,EAAMC,GAC1BC,IAAAA,EAAQF,EAAKG,MAAMP,GAAOQ,UAC1BC,EAAQJ,EAAKE,MAAMP,GAAOQ,UAE5BF,GAAAA,EAAMI,SAAS,KAAM,CACjBC,IAAAA,EAAWL,EAAMM,MAAM,GAAGC,QAAQ,KAAM,KAGvCI,OAFUR,EAAMG,MAAM,GAAGC,QAAQ,KAAM,KAE5BF,EAGZ,QAAA,GACDL,KAAAA,EAAQG,EACJ,OAAA,EAEJH,KAAAA,EAAQG,EACJ,OAAC,EAEV,QACS,OAAA,KAIbf,EAAUoB,UAAY,GAEJZ,IA9Bb,EA8BaA,EAAAA,EAAAA,GA9Bb,IA8BwB,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAlBa,IAAAA,EAAkB,EAAA,MAC3BrB,EAAUsB,OAAOD,IA/Bd,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,OAoCTlB,EAAoBqB,QAAQ,SAACC,EAASnB,GACpCmB,EAAQC,iBAAiB,QAAS,WAChCrB,EAAQC,OAIZN,EAAU0B,iBAAiB,QAAS,SAACC,GACjB1B,IADuB,EACvBA,EAAAA,EAAAA,GADuB,IACJ,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,EAAA,MAC/B2B,UAAUC,OAAO,WAFkB,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAIzCF,EAAEG,OAAOC,QAAQ,MAAMH,UAAUI,IAAI,YAGvC,IAAMC,EAAOpC,SAASqC,cAAc,QAEpCD,EAAKL,UAAUI,IAAI,qBACnBpC,EAAK0B,OAAOW,GAEZA,EAAKE,mBAAmB,YAElBhC,oBAAAA,OAAAA,EAAoB,GAAGW,UAF7B,2EAOAmB,EAAKE,mBAAmB,YAElBhC,oBAAAA,OAAAA,EAAoB,GAAGW,UAF7B,kFAOAmB,EAAKE,mBAAmB,YAElBhC,oBAAAA,OAAAA,EAAoB,GAAGW,UAF7B,uEAOAmB,EAAKE,mBAAmB,YAElBhC,oBAAAA,OAAAA,EAAoB,GAAGW,UAF7B,0EAOAmB,EAAKE,mBAAmB,YAElBhC,oBAAAA,OAAAA,EAAoB,GAAGW,UAF7B,gFAOA,IAAMsB,EAAWvC,SAASE,cAAc,UAExCqC,EAASC,QAAQC,GAAK,SAWtB,IATA,IAAMC,EAAS,CAAf,QAAA,YAAA,SAAA,WAAA,YAAA,iBASmBA,EAAAA,EAAAA,EAAAA,EAAQ,EAAA,EAAA,OAAA,IAAA,CAAhBC,IAAAA,EAAN,EAAA,GACGf,EAAU5B,SAASqC,cAAc,UAEvCT,EAAQX,UAAY0B,EACpBJ,EAASd,OAAOG,GAGlB,IAAMgB,EAAO5C,SAASqC,cAAc,UAEpCO,EAAK3B,UAAY,UACjB2B,EAAKC,UAAW,EAChBD,EAAKE,UAAW,EAChBP,EAASQ,QAAQH,GAEjB,IAAMI,EAAShD,SAASqC,cAAc,UAEtCW,EAAO/B,UAAY,gBACnB+B,EAAOC,aAAa,OAAQ,UAC5Bb,EAAKX,OAAOuB,GAEZ,IAAME,EAA0B,SAASC,EAAOC,EAAaC,GACrDC,IAAAA,EAAetD,SAASqC,cAAc,OACtCkB,EAAKvD,SAASqC,cAAc,MAC5BmB,EAAIxD,SAASqC,cAAc,KAEjCkB,EAAGtC,UAAYkC,EACfI,EAAGxB,UAAUI,IAAI,SACjBqB,EAAEvC,UAAYmC,EAEdE,EAAa7B,OAAO8B,GACpBD,EAAa7B,OAAO+B,GACpBF,EAAavB,UAAUI,IAAI,gBAC3BmB,EAAavB,UAAUI,IAAIkB,GAC3BC,EAAad,QAAb,GAA6B,eAC7BzC,EAAK0B,OAAO6B,GACZG,WAAW,WAAMH,OAAAA,EAAatB,UAAU,MAG1CI,EAAKP,iBAAiB,SAAU,SAAC6B,GACzBC,IAAAA,EAAc3D,SAASqC,cAAc,MACvCuB,EAAQ,EAEZF,EAAIG,iBAEkBzB,IANiB,EAMjBA,EAAAA,EAAAA,EAAK0B,UANY,IAMF,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAA1BlC,IAAAA,EAA0B,EAAA,MAC/BA,GAAiB,WAAjBA,EAAQyB,KACV,MAGEzB,GAA0B,SAA1BA,EAAQY,QAAR,IAAoCZ,EAAQmC,MAAMC,OAAS,EAAG,CAChEd,EAAwB,iDACtB,sBAAuB,SACzB,MAGEtB,GAA0B,QAA1BA,EAAQY,QAAR,KAAoCZ,EAAQmC,MAAQ,GAAI,CAC1Db,EAAwB,8BACtB,0BAA2B,SAC7B,MAGEtB,GAA0B,QAA1BA,EAAQY,QAAR,KAAoCZ,EAAQmC,MAAQ,GAAI,CAC1Db,EAAwB,8BACtB,kBAAmB,SACrB,MAeE,GAZ0B,WAA1BtB,EAAQY,QAAR,IACFmB,EAAYrB,mBAAmB,YACvB,iBAAA,OAAA,IAAMV,EAAQmC,MADtB,kBAK4B,WAA1BnC,EAAQY,QAAR,IACFmB,EAAYrB,mBAAmB,YACzBV,eAAAA,OAAAA,EAAQmC,MADd,iBAKGnC,EAAQmC,MAAO,CAClBb,EAAwB,qDAExB,gBAAiB,SACjB,MAEFU,KA/CqC,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAkDzB,IAAVA,IACFzD,EAAUsB,OAAOkC,GACjBT,EAAwB,UAAW,2BAA4B,cAInE,IAAMe,EAAQjE,SAASE,cAAc,SAErC+D,EAAMpC,iBAAiB,WAAY,SAACC,GAC9BA,GAAqB,OAArBA,EAAEG,OAAOiC,QAATpC,CAIEqC,IAAAA,EAAOrC,EAAEG,OAETmC,EAAeD,EAAKlD,UAE1BkD,EAAKlD,UAAY,GAEjBkD,EAAK5C,UAAL,uCAIM8C,IAAAA,EAAQrE,SAASE,cAAc,eAmCrCmE,EAAMxC,iBAAiB,OAAQyC,GAE/BD,EAAMxC,iBAAiB,UAAW,SAAC0C,GACjB,UAAZA,EAAGC,MACLF,MArCKA,SAAAA,IAaAG,IAASV,EAZO,IAAnBI,EAAKO,YAYOX,EAXLM,EAAMN,MAcbY,UAFeZ,GAGjBI,EAAKlD,UAAY8C,EAEjBI,EAAKlD,UAAYmD,GAdI,IAAnBD,EAAKO,WAkBFE,SAAYb,GAGfY,UAFeZ,GAGjBI,EAAKlD,UAAgB,IAAA,SAAE8C,GAAOc,eAAe,OAE7CV,EAAKlD,UAAYmD,EAvBjBQ,CAAYP,EAAMN,OAGpBI,EAAKlD,UAAYoD,EAAMN,OAASK,EAChCC,EAAMrC","file":"main.1046bc21.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst body = document.body;\n\nconst tableHeader = document.querySelector('thead');\n\nconst tableBody = document.querySelector('tbody');\n\nconst tableBodyElements = tableBody.getElementsByTagName('tr');\n\nconst tableHeaderElements = tableHeader.querySelectorAll('th');\n\nlet detector;\n\nconst handler = function(index) {\n  if (detector !== index) {\n    detector = index;\n\n    const arr = [...tableBodyElements];\n\n    const sortedArr = arr.sort((rowA, rowB) => {\n      const cellA = rowA.cells[index].innerText;\n      const cellB = rowB.cells[index].innerText;\n\n      if (cellA.includes('$')) {\n        const newCellA = cellA.slice(1).replace(/,/g, '.');\n        const newCellB = cellB.slice(1).replace(/,/g, '.');\n\n        return newCellA - newCellB;\n      }\n\n      switch (true) {\n        case cellA > cellB:\n          return 1;\n\n        case cellA < cellB:\n          return -1;\n\n        default:\n          return 0;\n      }\n    });\n\n    tableBody.innerHTML = '';\n\n    for (const row of sortedArr) {\n      tableBody.append(row);\n    }\n  } else {\n    detector = null;\n\n    const arr = [...tableBodyElements];\n\n    const sortedArr = arr.sort((rowA, rowB) => {\n      const cellA = rowA.cells[index].innerText;\n      const cellB = rowB.cells[index].innerText;\n\n      if (cellA.includes('$')) {\n        const newCellA = cellA.slice(1).replace(/,/g, '.');\n        const newCellB = cellB.slice(1).replace(/,/g, '.');\n\n        return newCellB - newCellA;\n      }\n\n      switch (true) {\n        case cellA < cellB:\n          return 1;\n\n        case cellA > cellB:\n          return -1;\n\n        default:\n          return 0;\n      }\n    });\n\n    tableBody.innerHTML = '';\n\n    for (const row of sortedArr) {\n      tableBody.append(row);\n    }\n  }\n};\n\ntableHeaderElements.forEach((element, index) => {\n  element.addEventListener('click', () => {\n    handler(index);\n  });\n});\n\ntableBody.addEventListener('click', (e) => {\n  for (const row of tableBodyElements) {\n    row.classList.remove('active');\n  }\n  e.target.closest('tr').classList.add('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\nbody.append(form);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    ${tableHeaderElements[0].innerText}: \n      <input name=\"name\" type=\"text\" data-qa=\"name\">\n  </label>\n`);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    ${tableHeaderElements[1].innerText}:\n      <input name=\"position\" type=\"text\" data-qa=\"position\">\n  </label>\n`);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    ${tableHeaderElements[2].innerText}:\n      <select data-qa=\"office\" required></select>\n  </label>\n`);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    ${tableHeaderElements[3].innerText}:\n      <input name=\"age\" type=\"number\" data-qa=\"age\">\n  </label>\n`);\n\nform.insertAdjacentHTML('beforeend', `\n  <label>\n    ${tableHeaderElements[4].innerText}:\n      <input name=\"salary\" type=\"number\" data-qa=\"salary\">\n  </label>\n`);\n\nconst selector = document.querySelector('select');\n\nselector.dataset.qa = 'office';\n\nconst cities = [\n  `Tokyo`,\n  `Singapore`,\n  `London`,\n  `New York`,\n  `Edinburgh`,\n  `San Francisco`,\n];\n\nfor (const city of cities) {\n  const element = document.createElement('option');\n\n  element.innerText = city;\n  selector.append(element);\n}\n\nconst item = document.createElement('option');\n\nitem.innerText = 'Choose:';\nitem.disabled = true;\nitem.selected = true;\nselector.prepend(item);\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.setAttribute('type', 'submit');\nform.append(button);\n\nconst appropriateNotification = function(title, description, type) {\n  const notification = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n\n  h2.innerText = title;\n  h2.classList.add('title');\n  p.innerText = description;\n\n  notification.append(h2);\n  notification.append(p);\n  notification.classList.add('notification');\n  notification.classList.add(type);\n  notification.dataset['qa'] = 'notification';\n  body.append(notification);\n  setTimeout(() => notification.remove(), 3000);\n};\n\nform.addEventListener('submit', (evt) => {\n  const newEmployee = document.createElement('tr');\n  let count = 0;\n\n  evt.preventDefault();\n\n  for (const element of form.elements) {\n    if (element.type === 'submit') {\n      break;\n    }\n\n    if (element.dataset['qa'] === 'name' && element.value.length < 4) {\n      appropriateNotification('Were not there enough letters in the alphabet?',\n        'Change your name!!!', 'error');\n      break;\n    }\n\n    if (element.dataset['qa'] === 'age' && +element.value < 18) {\n      appropriateNotification('Your age is not appropriate',\n        'get older and come back', 'error');\n      break;\n    }\n\n    if (element.dataset['qa'] === 'age' && +element.value > 90) {\n      appropriateNotification('Your age is not appropriate',\n        'You are too old', 'error');\n      break;\n    }\n\n    if (element.dataset['qa'] === 'salary') {\n      newEmployee.insertAdjacentHTML('beforeend', `\n        <td>${'$' + element.value}</td>\n      `);\n    }\n\n    if (element.dataset['qa'] !== 'salary') {\n      newEmployee.insertAdjacentHTML('beforeend', `\n      <td>${element.value}</td>\n    `);\n    }\n\n    if (!element.value) {\n      appropriateNotification(`it seems like you have `\n        + `forgotten something to fill`,\n      'fill all gaps', 'error');\n      break;\n    }\n    count++;\n  }\n\n  if (count === 5) {\n    tableBody.append(newEmployee);\n    appropriateNotification('Success', 'A new employee was added', 'success');\n  }\n});\n\nconst table = document.querySelector('table');\n\ntable.addEventListener('dblclick', (e) => {\n  if (e.target.tagName !== 'TD') {\n    return;\n  }\n\n  const cell = e.target;\n\n  const InitialValue = cell.innerText;\n\n  cell.innerText = '';\n\n  cell.innerHTML = `\n    <input class=\"cell-input\">\n  `;\n\n  const input = document.querySelector('.cell-input');\n\n  function editor() {\n    if (cell.cellIndex === 3) {\n      checkAge(input.value);\n    }\n\n    if (cell.cellIndex === 4) {\n      checkSalary(input.value);\n    }\n\n    cell.innerText = input.value || InitialValue;\n    input.remove();\n  }\n\n  function checkAge(value) {\n    const converted = +value;\n\n    if (isFinite(converted)) {\n      cell.innerText = value;\n    } else {\n      cell.innerText = InitialValue;\n    }\n  }\n\n  function checkSalary(value) {\n    const converted = +value;\n\n    if (isFinite(converted)) {\n      cell.innerText = `$${(+value).toLocaleString('en')}`;\n    } else {\n      cell.innerText = InitialValue;\n    }\n  }\n\n  input.addEventListener('blur', editor);\n\n  input.addEventListener('keydown', (ev) => {\n    if (ev.code === 'Enter') {\n      editor();\n    }\n  });\n});\n"]}